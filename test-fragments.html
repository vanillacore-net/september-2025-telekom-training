<!DOCTYPE html>
<html>
<head>
    <title>Fragment Test</title>
    <style>
        /* Test the fragment CSS rules we added */
        .reveal .fragment {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease, visibility 0s linear 0.3s;
        }

        .reveal .fragment.visible {
            visibility: visible;
            opacity: 1;
            transition: opacity 0.3s ease, visibility 0s linear 0s;
        }

        /* Ensure fragments are invisible until explicitly revealed */
        .reveal .fragment:not(.visible) {
            visibility: hidden !important;
            opacity: 0 !important;
        }
        
        /* Test styling */
        .reveal { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ccc; }
        button { margin: 10px; padding: 5px 10px; }
    </style>
</head>
<body>
    <div class="reveal">
        <h1>Fragment Visibility Test</h1>
        
        <div class="test-section">
            <h2>Test 1: Hidden Fragment</h2>
            <p>This should be visible immediately</p>
            <p class="fragment" data-fragment-index="1">This should be HIDDEN until made visible</p>
            <button onclick="showFragment()">Show Fragment</button>
            <button onclick="hideFragment()">Hide Fragment</button>
        </div>
        
        <div class="test-section">
            <h2>Test 2: Multiple Fragments</h2>
            <ul>
                <li class="fragment" data-fragment-index="1">Fragment 1 - Should be hidden</li>
                <li class="fragment" data-fragment-index="2">Fragment 2 - Should be hidden</li>
                <li class="fragment" data-fragment-index="3">Fragment 3 - Should be hidden</li>
            </ul>
            <button onclick="showAllFragments()">Show All</button>
            <button onclick="hideAllFragments()">Hide All</button>
        </div>
    </div>
    
    <script>
        function showFragment() {
            const fragment = document.querySelector('.fragment[data-fragment-index="1"]');
            fragment.classList.add('visible');
        }
        
        function hideFragment() {
            const fragment = document.querySelector('.fragment[data-fragment-index="1"]');
            fragment.classList.remove('visible');
        }
        
        function showAllFragments() {
            const fragments = document.querySelectorAll('.fragment');
            fragments.forEach(f => f.classList.add('visible'));
        }
        
        function hideAllFragments() {
            const fragments = document.querySelectorAll('.fragment');
            fragments.forEach(f => f.classList.remove('visible'));
        }
    </script>
</body>
</html>