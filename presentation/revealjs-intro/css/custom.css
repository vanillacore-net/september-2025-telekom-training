/* Custom CSS for Telekom Architecture Training - TRUE RESPONSIVE DESIGN */
@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;700&display=swap');

/* RESPONSIVE REVEAL.JS OVERRIDE - FULL VIEWPORT */
.reveal {
  font-family: 'Open Sans', sans-serif !important;
  width: 100vw !important;
  height: 100vh !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  overflow: hidden !important;
}

/* RESPONSIVE SLIDES CONTAINER - NO HARDCODED DIMENSIONS */
.reveal .slides {
  width: 100vw !important;
  height: 100vh !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  transform: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Force Open Sans everywhere with stronger overrides */
.reveal,
.reveal h1, .reveal h2, .reveal h3,
.reveal h4, .reveal h5, .reveal h6,
.reveal p, .reveal li, .reveal span {
  font-family: 'Open Sans', sans-serif !important;
}

/* Override reveal.js theme fonts with !important */
.reveal h1,
.reveal h2, 
.reveal h3,
.reveal h4,
.reveal h5,
.reveal h6 {
  font-family: 'Open Sans', sans-serif !important;
  font-weight: 400 !important;
}

/* 1. Title slide styling */
.title-slide {
  text-align: center;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 2rem;
}

.title-slide .logo {
  max-width: 12vh !important; /* Responsive logo ~133px equivalent */
  height: auto;
  margin-bottom: 2rem;
}

.title-slide h1 {
  font-size: 4.5vw !important; /* Responsive title scaling */
  color: #333333;
  font-weight: 400 !important;
  margin: 0;
  margin-bottom: 1rem;
  transform: translateY(1rem); /* Move text down for optical balance */
}

.title-slide h2 {
  font-size: 0.7em !important; /* Subline size as specified */
  color: #666666;
  font-weight: 300 !important;
  margin: 0;
  transform: translateY(1rem); /* Move text down for optical balance */
}

/* 2. Section slide styling */
.section-slide {
  text-align: center !important;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center !important;
  padding: 2rem;
}

.section-slide .logo {
  max-width: 12vh !important; /* Responsive logo */
  height: auto;
  margin-bottom: 2rem;
}

.section-slide h1 {
  font-size: 4.5vw !important; /* Responsive section title */
  color: #333333;
  font-weight: 400 !important;
  margin: 0;
  text-align: center !important;
}

/* 3. Single column styling - FIXED TOP ALIGNMENT */
.single-column {
  position: relative;
}

/* Logo corner positioning handled by global .logo-corner rule */

.single-column h2 {
  color: #333333;
  position: absolute !important;
  top: 0 !important;
  left: 4vw !important;
  right: 12vw !important; /* Leave space for logo (8vh + 3vw margin) */
  height: 8vh !important;
  margin: 0 !important;
  padding: 0 !important;
  font-weight: 400 !important;
  text-align: left !important;
  display: flex !important;
  align-items: center !important; /* Vertically center the text */
  z-index: 5;
  /* Font size handled by global .reveal h2 rule */
}

.single-column ul {
  list-style: none;
  padding-left: 0;
  font-size: inherit !important; /* Use responsive sizing */
  margin-top: 9vh !important; /* Start below header area (8vh + 1vh spacing) */
}

.single-column p:first-of-type {
  margin-top: 9vh !important; /* Start below header area (8vh + 1vh spacing) */
}

.single-column li {
  margin-bottom: 1.5vh;
  padding-left: 2vw;
  position: relative;
  font-weight: 300 !important;
  line-height: 1.8;
  color: #333333; /* Darker gray */
}

.single-column li:before {
  content: "•";
  color: #333;
  font-weight: bold;
  position: absolute;
  left: 0;
}

/* 4. Two column styling - FIXED TOP ALIGNMENT */
.two-columns {
  position: relative;
  width: 100% !important;
  height: 100% !important;
}

/* Logo corner positioning handled by global .logo-corner rule */

.two-columns h2 {
  color: #333333;
  position: absolute !important;
  top: 0 !important;
  left: 4vw !important;
  right: 12vw !important; /* Leave space for logo (8vh + 3vw margin) */
  height: 8vh !important;
  margin: 0 !important;
  padding: 0 !important;
  font-weight: 400 !important;
  text-align: left !important;
  display: flex !important;
  align-items: center !important; /* Vertically center the text */
  z-index: 5;
  /* Font size handled by global .reveal h2 rule */
}

.columns-container {
  display: flex !important;
  flex-direction: row !important;
  justify-content: space-between !important;
  align-items: flex-start !important;
  gap: 4vw !important; /* Clear gap to ensure proper separation */
  flex-grow: 1 !important;
  margin-top: 9vh !important; /* Start below header area (8vh + 1vh spacing) */
  width: 100% !important;
  height: auto !important;
  position: relative !important;
  flex-wrap: nowrap !important; /* Prevent wrapping to next line */
}

/* FORCE TWO-COLUMN LAYOUT FOR DESKTOP/PRESENTATION SCREENS */
@media (min-width: 769px) {
  .columns-container {
    display: flex !important;
    flex-direction: row !important;
    justify-content: space-between !important;
    flex-wrap: nowrap !important;
    gap: 4vw !important;
  }
  
  .column {
    flex: 1 1 48% !important;
    width: 48% !important;
    max-width: 48% !important;
    min-width: 40% !important;
    display: block !important;
    flex-shrink: 0 !important;
  }
}

.column {
  flex: 1 1 48% !important; /* Equal flex-grow with 48% basis */
  width: 48% !important;
  max-width: 48% !important;
  min-width: 40% !important; /* Reduced from 48% to allow more flexibility */
  display: block !important;
  box-sizing: border-box !important;
  flex-shrink: 0 !important; /* Prevent shrinking below minimum width */
}

.column h3 {
  color: #666;
  margin-bottom: 0.5rem !important;
  font-weight: 400 !important;
  text-align: left !important;
  /* Font size handled by global .reveal h3 rule */
}

.column ul {
  list-style: none;
  padding-left: 0;
  font-size: inherit !important; /* Use responsive sizing */
}

.column li {
  margin-bottom: 1vh;
  padding-left: 1.5vw;
  position: relative;
  font-weight: 300 !important;
  line-height: 1.8;
  color: #333333; /* Darker gray */
}

.column li:before {
  content: "•";
  color: #333;
  font-weight: bold;
  position: absolute;
  left: 0;
}

.slide-number {
  position: absolute;
  bottom: 20px;
  right: 20px;
  font-size: 1.2em;
  color: #999;
}

/* 5. Half-picture layout - 50% text left, 50% image right with proper title positioning */
.half-picture {
  position: relative;
  display: flex !important;
  flex-direction: row !important;
  width: 100vw !important;
  height: 100vh !important;
  padding: 0 !important;
}

/* Title positioning for half-picture - matches other content slides */
.half-picture h2 {
  color: #333333;
  position: absolute !important;
  top: 0 !important;
  left: 4vw !important;
  right: 12vw !important; /* Leave space for logo (8vh + 3vw margin) */
  height: 8vh !important;
  margin: 0 !important;
  padding: 0 !important;
  font-weight: 400 !important;
  text-align: left !important;
  display: flex !important;
  align-items: center !important; /* Vertically center the text */
  z-index: 5;
  /* Font size handled by global .reveal h2 rule */
}

.text-content {
  flex: 0 0 50% !important; /* Exactly 50% width, no grow/shrink */
  width: 50% !important;
  display: flex;
  flex-direction: column;
  justify-content: flex-start !important;
  padding-left: 4vw !important;
  padding-right: 2vw !important;
  padding-top: 9vh !important; /* Start below header area (8vh + 1vh spacing) */
  padding-bottom: 4vh !important;
  box-sizing: border-box !important;
}

.text-content p {
  font-size: inherit !important; /* Use responsive sizing */
  color: #333333; /* Darker gray */
  margin-bottom: 1.5vh;
  font-weight: 300 !important;
}

.text-content ul {
  list-style: none;
  padding-left: 0;
  font-size: inherit !important; /* Use responsive sizing */
}

.text-content li {
  margin-bottom: 1.5vh;
  padding-left: 1.5vw;
  position: relative;
  font-weight: 300 !important;
  line-height: 1.8;
  color: #333333; /* Darker gray */
}

.text-content li:before {
  content: "•";
  color: #333;
  font-weight: bold;
  position: absolute;
  left: 0;
}

.image-content {
  flex: 0 0 50% !important; /* Exactly 50% width, no grow/shrink */
  width: 50% !important;
  height: 100vh !important; /* Full viewport height */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 !important; /* No padding - image should go to edges */
  overflow: hidden !important;
}

.half-image {
  width: 100%;
  height: 100vh !important; /* Full viewport height */
  object-fit: cover;
}

/* Placeholder images */
.placeholder-image {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5em;
  color: white;
  font-weight: bold;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
}

.placeholder-image.drowning-hand {
  background: linear-gradient(135deg, #4a90e2 0%, #2c5aa0 50%, #1e3a5f 100%);
}

.placeholder-image.warehouse {
  background: linear-gradient(135deg, #8e8e93 0%, #636366 50%, #48484a 100%);
}

/* 6. Full-picture styling - TRUE RESPONSIVE */
.full-picture {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background-size: cover !important;
  background-position: center !important;
}

.full-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.full-picture .placeholder-image {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
}

.text-overlay {
  position: absolute !important;
  top: 50% !important;
  right: 4vw !important; /* Responsive positioning */
  transform: translateY(-50%) !important;
  text-align: right;
  background: rgba(255, 255, 255, 0.9) !important;
  padding: 3vh 3vw !important; /* Responsive padding */
  border-radius: 8px !important;
  max-width: 30vw !important; /* Responsive max width */
  z-index: 2;
}

.text-overlay h2 {
  font-size: 3vw !important; /* Responsive overlay title */
  max-font-size: 2.5rem !important;
  min-font-size: 1.5rem !important;
  color: #333333;
  margin-bottom: 1vh;
  font-weight: 400 !important;
}

.text-overlay p {
  font-size: 2vw !important; /* Responsive overlay text */
  max-font-size: 1.5rem !important;
  min-font-size: 1rem !important;
  color: #333333; /* Darker gray */
  margin: 0;
  font-weight: 300 !important;
}

/* RESPONSIVE SLIDES - FULL VIEWPORT COVERAGE */
.reveal .slides section {
  top: 0 !important;
  left: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  height: 100vh !important;
  width: 100vw !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: flex-start !important;
  align-items: flex-start !important;
  position: absolute !important;
  box-sizing: border-box !important;
  transform: none !important;
}

.reveal .slides section.present {
  transform: none !important;
  display: flex !important;
}

.reveal .slides section.future,
.reveal .slides section.past {
  display: none !important;
}

/* TITLE AND SECTION SLIDES - TITLE CENTERED, SECTION LEFT-ALIGNED */
.reveal .slides section:has(.title-slide) {
  justify-content: center !important;
  align-items: center !important;
  text-align: center !important;
  padding: 4vh 4vw !important; /* Responsive padding */
}

.reveal .slides section:has(.section-slide) {
  justify-content: center !important;
  align-items: center !important;
  text-align: center !important;
  padding: 4vh 4vw !important; /* Responsive padding */
}

/* Force section slide container to be centered */
.reveal .slides section:has(.section-slide) {
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  align-items: center !important;
  text-align: center !important;
}

.title-slide {
  justify-content: center !important;
  align-items: center !important;
  text-align: center !important;
  width: 100% !important;
  height: 100% !important;
}

.section-slide {
  justify-content: center !important;
  align-items: center !important;
  text-align: center !important;
  width: 100% !important;
  height: 100% !important;
}

/* CONTENT SLIDES - TOP ALIGNED WITH HEADER AREA FOR LOGO/TITLE */
.reveal .slides section.single-column,
.reveal .slides section.two-columns {
  padding: 0 4vw 4vh 4vw !important; /* Remove top padding, we'll handle it with header area */
  justify-content: flex-start !important;
  align-items: flex-start !important;
  width: 100vw !important;
  height: 100vh !important;
}

/* Force proper display for two-column sections */
.reveal .slides section.two-columns {
  display: flex !important;
  flex-direction: column !important;
}

/* HEADER AREA - CONTAINS LOGO AND TITLE WITH PROPER ALIGNMENT */
.reveal .slides section.single-column,
.reveal .slides section.two-columns {
  position: relative;
}

/* Create header area that matches logo height */
.reveal .slides section.single-column::before,
.reveal .slides section.two-columns::before,
.reveal .slides section.code-slide::before {
  content: "";
  display: block;
  height: 8vh; /* Match logo height */
  width: 100%;
  position: relative;
}

/* CODE SLIDES - SPECIAL PADDING */
.reveal .slides section.code-slide {
  padding: 0 4vw 4vh 4vw !important; /* Remove top padding, will handle with header area like other content slides */
}

/* CODE SLIDES WITH STANDALONE CODE - NO SIDE PADDING FOR FULL WIDTH */
.reveal .slides section.code-slide.code-standalone {
  padding: 8vh 0 4vh 0 !important; /* No side padding for full-width code blocks */
}

/* HALF PICTURE - NO PADDING TO STRETCH TO ALL EDGES */
.reveal .slides section.half-picture {
  padding: 0 !important;
  justify-content: flex-start !important;
  align-items: flex-start !important;
}

/* FULL PICTURE - NO PADDING TO STRETCH TO EDGES */
.reveal .slides section:has(.full-picture) {
  padding: 0 !important;
  justify-content: flex-start !important;
  align-items: flex-start !important;
}

/* CORNER LOGOS - ABSOLUTE POSITIONING - RESPONSIVE */
.logo-corner {
  position: fixed !important; /* Fixed to viewport instead of absolute to parent */
  top: 0 !important;
  right: 3vw !important;
  width: 8vh !important; /* Fixed width - ~86px at 1080p */
  height: 8vh !important; /* Fixed height to ensure exact size */
  object-fit: contain !important; /* Maintain aspect ratio within bounds */
  z-index: 100; /* Higher z-index to ensure it's on top */
  margin: 0 !important; /* Remove any default margins */
  padding: 0 !important; /* Remove any default padding */
  transform: translateY(0) !important; /* Reset any transforms */
}

/* HALF PICTURE LAYOUT FIX - PROPER 50/50 SPLIT */
.reveal .slides section.half-picture {
  flex-direction: row !important;
  align-items: flex-start !important;
  padding: 0 !important;
  justify-content: flex-start !important;
}

/* Remove duplicate text-content and image-content rules - they're defined above */
/* Text content styling already defined in main .text-content rule */
/* Image content styling already defined in main .image-content rule */

/* General slide styling with color fixes */
.reveal h1, .reveal h2, .reveal h3 {
  color: #333333;
  font-weight: 400 !important;
}

/* NO ORANGE TEXT - All headings should be dark gray */
.title-slide h1,
.section-slide h1,
.single-column h2,
.two-columns h2,
.text-content h2,
.text-overlay h2 {
  color: #333333 !important;
}

/* PROPER FONT HIERARCHY - TITLE vs CONTENT */
/* RESPONSIVE TYPOGRAPHY HIERARCHY */
/* H1 for slide titles - LARGE RESPONSIVE */
.title-slide h1,
.section-slide h1 {
  font-size: 4.5vw !important; /* Responsive main titles */
  max-font-size: 3.5rem !important;
  min-font-size: 2rem !important;
}

/* H2 for content headlines - RESPONSIVE (slightly smaller) */
.reveal h2 {
  font-size: 2.8vw !important; /* Reduced from 3vw for better viewport fit */
  max-font-size: 2.3rem !important;
  min-font-size: 1.4rem !important;
  margin-bottom: 1rem !important;
  font-weight: 400 !important;
}

/* H3 for subheadings - RESPONSIVE */
.reveal h3 {
  font-size: 2.3vw !important; /* Reduced from 2.5vw */
  max-font-size: 1.8rem !important;
  min-font-size: 1.1rem !important;
  margin-bottom: 0.5rem !important;
  font-weight: 400 !important;
}

.reveal p, .reveal li {
  font-size: 1.9vw !important; /* Reduced from 2vw for better viewport fit */
  max-font-size: 1.4rem !important;
  min-font-size: 0.95rem !important;
  line-height: 1.8;
  font-weight: 300 !important;
  color: #333333; /* Changed from #666666 to darker gray as requested */
}

/* Fragment styling - PREVENT OVERLAYS */
.reveal .fragment {
  transition: all 0.4s ease-in-out !important;
  opacity: 0 !important;
  visibility: hidden !important;
}

.reveal .fragment.visible {
  opacity: 1 !important;
  visibility: visible !important;
}

.reveal .fragment.current-fragment {
  opacity: 1 !important;
  visibility: visible !important;
}

/* List styling */
.reveal ul {
  display: block;
  margin-left: 1em;
}

.reveal li {
  margin-bottom: 15px;
}

/* Ensure first line is always visible */
.reveal .slides section > *:first-child {
  opacity: 1 !important;
  visibility: visible !important;
}

/* CODE SAMPLE SLIDES - FIXED TEXT ALIGNMENT */
.code-slide {
  position: relative;
  text-align: left !important; /* Force left alignment for all code slide content */
}

.code-slide h2 {
  color: #333333;
  position: absolute !important;
  top: 0 !important;
  left: 4vw !important;
  right: 12vw !important; /* Leave space for logo (8vh + 3vw margin) */
  height: 8vh !important;
  margin: 0 !important;
  padding: 0 !important;
  font-weight: 400 !important;
  text-align: left !important;
  display: flex !important;
  align-items: center !important; /* Vertically center the text */
  z-index: 5;
  font-size: 2.5vw !important; /* Slightly smaller than regular h2 */
  max-font-size: 2rem !important;
  min-font-size: 1.3rem !important;
}

/* Embedded code styling (inline with text) */
.code-embedded {
  display: flex;
  gap: 3vw;
  align-items: flex-start;
  height: 100%;
  text-align: left !important; /* Ensure all embedded code content is left-aligned */
  margin-top: 9vh !important; /* Start below header area (8vh + 1vh spacing) */
}

.code-embedded .text-section {
  flex: 1;
  padding-right: 2vw;
  text-align: left !important; /* Force left alignment for text section */
}

.code-embedded .text-section p {
  text-align: left !important; /* Specifically target paragraphs */
  font-size: 1.7vw !important; /* Slightly smaller for code slides */
  max-font-size: 1.3rem !important;
  min-font-size: 0.9rem !important;
  line-height: 1.6 !important; /* Tighter line height for better fit */
}

.code-embedded .text-section ul,
.code-embedded .text-section li {
  text-align: left !important; /* Specifically target lists */
  font-size: 1.7vw !important; /* Slightly smaller for code slides */
  max-font-size: 1.3rem !important; 
  min-font-size: 0.9rem !important;
  line-height: 1.6 !important; /* Tighter line height for better fit */
  margin-bottom: 1vh !important; /* Reduced margin */
}

.code-embedded .code-section {
  flex: 1.2;
  display: flex;
  align-items: center;
}

.code-embedded pre {
  margin: 0 !important;
  width: 100%;
  max-height: 60vh;
  overflow: auto !important;
  position: relative !important; /* Ensure proper positioning */
  z-index: 1 !important; /* Prevent overlap issues */
}

/* Standalone code block styling - FULL WIDTH WITH PROPER TITLE POSITIONING */
.code-standalone {
  position: relative !important; /* Enable absolute positioning for title */
  display: flex;
  flex-direction: column;
  justify-content: flex-start !important; /* Changed from center to flex-start */
  align-items: center;
  height: 100vh !important; /* Full viewport height */
  width: 100vw !important; /* Force full viewport width */
  text-align: center; /* Keep center for standalone code blocks (no intro text) */
  margin: 0 !important;
  padding: 0 !important;
  padding-top: 9vh !important; /* Start below header area (8vh + 1vh spacing) */
}

/* Title positioning for code-standalone - matches other content slides */
.code-standalone h2 {
  color: #333333;
  position: absolute !important;
  top: 0 !important;
  left: 4vw !important;
  right: 12vw !important; /* Leave space for logo (8vh + 3vw margin) */
  height: 8vh !important;
  margin: 0 !important;
  padding: 0 !important;
  font-weight: 400 !important;
  text-align: left !important; /* Changed from center to left to match other content slides */
  display: flex !important;
  align-items: center !important; /* Vertically center the text */
  z-index: 5;
  /* Font size handled by global .reveal h2 rule */
}

.code-standalone p {
  text-align: center !important; /* Standalone code descriptions should be centered */
}

.code-standalone pre {
  width: 96vw !important; /* Use almost full viewport width */
  max-width: 96vw !important; /* Prevent any width constraints */
  max-height: 65vh; /* Reduced from 70vh for better fit */
  overflow: auto !important;
  margin: 2vh 2vw !important; /* Small side margins for readability */
  position: relative !important; /* Prevent overlap issues */
  z-index: 1 !important; /* Ensure proper layering */
  opacity: 1 !important; /* CRITICAL: Ensure standalone code blocks are always visible */
  visibility: visible !important;
  display: block !important;
}

/* Enhanced code block styling with fragment visibility */
.reveal pre {
  font-size: 1.6vw !important; /* Reduced from 1.8vw for better fit */
  max-font-size: 1.1rem !important; /* Reduced from 1.2rem */
  min-font-size: 0.75rem !important;
  line-height: 1.4 !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) !important;
  padding: 2vh 2vw !important; /* Responsive padding */
  overflow: auto !important; /* Ensure proper scrolling for long code */
  max-height: 65vh !important; /* Limit height to prevent viewport overflow */
  position: relative !important;
  z-index: 1 !important;
  isolation: isolate !important; /* Create new stacking context */
  opacity: 1 !important; /* CRITICAL: Ensure all pre blocks are visible by default */
  visibility: visible !important;
  display: block !important;
  background-color: #f8f8f8 !important; /* Add background so code is visible */
}

/* CRITICAL: Ensure code text is visible */
.reveal pre code {
  color: #333333 !important; /* Dark text for visibility */
  background: transparent !important; /* Let parent pre handle background */
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
}

/* CRITICAL: Ensure all code content is visible by default */
.reveal code,
.reveal code * {
  opacity: 1 !important;
  visibility: visible !important;
  display: inline !important;
  color: #333333 !important;
}

/* CRITICAL FIX: CODE FRAGMENT REPLACEMENT BEHAVIOR */
/* Create code fragment containers that overlay in the same position */
.reveal pre code[data-line-numbers] {
  position: relative !important;
  z-index: 2 !important;
}

/* Hide all code lines by default when fragments are used */
.reveal .slides section[data-markdown] .hljs-ln-line,
.reveal code[data-line-numbers] .hljs-ln-line {
  opacity: 0.3 !important; /* Dim non-active lines */
}

/* Show only highlighted lines during fragments */
.reveal code[data-line-numbers].fragment-highlight .hljs-ln-line.highlight-line {
  opacity: 1 !important;
  background-color: rgba(255, 255, 0, 0.1) !important;
}

/* FRAGMENT CODE REPLACEMENT - Key fix for Observer Pattern slide */
/* When multiple code blocks exist with fragments, position them absolutely to overlay */
.code-section pre {
  position: relative !important;
}

/* CRITICAL FIX: CODE FRAGMENT REPLACEMENT - Multiple pre elements should replace each other */
.code-section {
  position: relative !important;
  min-height: 65vh !important; /* Reserve space to prevent layout shift */
}

/* CRITICAL FIX: TRUE FRAGMENT REPLACEMENT - Only show one fragment at a time */
.code-section pre.fragment {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  margin: 0 !important;
  opacity: 0 !important;
  visibility: hidden !important;
  display: none !important; /* Start completely hidden */
  z-index: 1 !important;
  transition: opacity 0.4s ease-in-out !important;
}

/* CRITICAL FIX: FIRST FRAGMENT SHOULD BE VISIBLE BY DEFAULT */
.code-section pre.fragment[data-fragment-index="0"] {
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  z-index: 10 !important;
}

/* Only show fragment when it becomes current or visible - specific rules for each fragment */
.code-section pre.fragment[data-fragment-index="0"].visible,
.code-section pre.fragment[data-fragment-index="0"].current-fragment {
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  z-index: 10 !important;
}

.code-section pre.fragment[data-fragment-index="1"].visible,
.code-section pre.fragment[data-fragment-index="1"].current-fragment {
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  z-index: 10 !important;
}

.code-section pre.fragment[data-fragment-index="2"].visible,
.code-section pre.fragment[data-fragment-index="2"].current-fragment {
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  z-index: 10 !important;
}

.code-section pre.fragment[data-fragment-index="3"].visible,
.code-section pre.fragment[data-fragment-index="3"].current-fragment {
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  z-index: 10 !important;
}

/* When a fragment becomes visible, show only that fragment */
.code-section pre.fragment.visible,
.code-section pre.fragment.current-fragment {
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  z-index: 10 !important; /* High z-index to ensure it's on top */
}

/* CRITICAL: Hide all other fragments when any fragment is visible */
.code-section:has(pre.fragment[data-fragment-index="1"].visible) pre.fragment[data-fragment-index="0"],
.code-section:has(pre.fragment[data-fragment-index="1"].current-fragment) pre.fragment[data-fragment-index="0"] {
  opacity: 0 !important;
  visibility: hidden !important;
  display: none !important;
}

.code-section:has(pre.fragment[data-fragment-index="2"].visible) pre.fragment[data-fragment-index="0"],
.code-section:has(pre.fragment[data-fragment-index="2"].visible) pre.fragment[data-fragment-index="1"],
.code-section:has(pre.fragment[data-fragment-index="2"].current-fragment) pre.fragment[data-fragment-index="0"],
.code-section:has(pre.fragment[data-fragment-index="2"].current-fragment) pre.fragment[data-fragment-index="1"] {
  opacity: 0 !important;
  visibility: hidden !important;
  display: none !important;
}

.code-section:has(pre.fragment[data-fragment-index="3"].visible) pre.fragment[data-fragment-index="0"],
.code-section:has(pre.fragment[data-fragment-index="3"].visible) pre.fragment[data-fragment-index="1"],
.code-section:has(pre.fragment[data-fragment-index="3"].visible) pre.fragment[data-fragment-index="2"],
.code-section:has(pre.fragment[data-fragment-index="3"].current-fragment) pre.fragment[data-fragment-index="0"],
.code-section:has(pre.fragment[data-fragment-index="3"].current-fragment) pre.fragment[data-fragment-index="1"],
.code-section:has(pre.fragment[data-fragment-index="3"].current-fragment) pre.fragment[data-fragment-index="2"] {
  opacity: 0 !important;
  visibility: hidden !important;
  display: none !important;
}

/* Handle the 'past' state to hide previous fragments */
.code-section pre.fragment.past {
  opacity: 0 !important;
  visibility: hidden !important;
  display: none !important;
}

/* CRITICAL FIX: TRUE CODE FRAGMENT REPLACEMENT BEHAVIOR */
/* This approach hides non-highlighted lines completely for true replacement effect */

/* Default state: hide all lines in code blocks with line-number fragments */
.reveal code[data-line-numbers] {
  counter-reset: line-numbers;
}

.reveal code[data-line-numbers] .hljs-ln-numbers {
  display: none !important; /* Hide line numbers initially for cleaner look */
}

.reveal code[data-line-numbers] .hljs-ln-line {
  display: block !important; /* CRITICAL FIX: Show all lines by default */
  opacity: 1 !important;
  visibility: visible !important;
}

/* Show only the currently highlighted line ranges */
/* RevealJS automatically adds highlight-line class to active ranges */
.reveal code[data-line-numbers] .hljs-ln-line.highlight-line {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  background-color: transparent !important; /* No background highlight for clean look */
}

/* Alternative approach: Use CSS to show/hide specific line ranges based on fragment state */
/* Fragment 1: Show lines 1-5 */
.reveal .slide-fragment-0 code[data-line-numbers] .hljs-ln-line:nth-child(-n+5) {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Fragment 2: Show lines 7-15 (hide 1-5, show 7-15) */
.reveal .slide-fragment-1 code[data-line-numbers] .hljs-ln-line:nth-child(n+7):nth-child(-n+15) {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Fragment 3: Show lines 17-25 */
.reveal .slide-fragment-2 code[data-line-numbers] .hljs-ln-line:nth-child(n+17):nth-child(-n+25) {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Fragment 4: Show lines 27-35 */
.reveal .slide-fragment-3 code[data-line-numbers] .hljs-ln-line:nth-child(n+27):nth-child(-n+35) {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Line number fragments should hide non-active lines completely */
.reveal .hljs-ln-line.fragment {
  display: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
}

.reveal .hljs-ln-line.fragment.visible,
.reveal .hljs-ln-line.fragment.current-fragment {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  background-color: transparent !important; /* No background highlight for clean replacement look */
}

.reveal code {
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace !important;
  background: rgba(0, 0, 0, 0.05) !important;
  padding: 0.2em 0.4em !important;
  border-radius: 4px !important;
  color: #c7254e !important; /* Inline code color */
}

/* Inline code in regular text */
.reveal p code, .reveal li code {
  font-size: 0.9em !important;
  background: rgba(0, 0, 0, 0.08) !important;
  padding: 0.15em 0.3em !important;
  border-radius: 3px !important;
  color: #d14 !important;
}

/* Inline code in code slide text sections - smaller */
.code-embedded .text-section p code,
.code-embedded .text-section li code {
  font-size: 0.85em !important; /* Smaller inline code in code slides */
  padding: 0.1em 0.25em !important; /* Tighter padding */
}

/* SPEAKER NOTES STYLING */
.reveal aside.notes {
  display: none; /* Hidden in normal view */
  font-family: 'Open Sans', sans-serif !important;
  font-size: 18px !important;
  line-height: 1.6;
  padding: 20px;
  background: #f8f8f8;
  border-left: 4px solid #D9931C;
  margin: 20px 0;
}

/* Speaker view styling */
@media print {
  .reveal aside.notes {
    display: block !important;
    margin: 20px 0;
    padding: 15px;
    background: #f8f8f8 !important;
    border-left: 4px solid #D9931C !important;
    page-break-inside: avoid;
  }
}

/* FRAGMENT IMPROVEMENTS FOR TWO-COLUMN */
.reveal .fragment.fade-in-then-out {
  opacity: 0;
}

.reveal .fragment.fade-in-then-out.visible {
  opacity: 1;
}

.reveal .fragment.fade-in-then-out.current-fragment {
  opacity: 1;
}

/* Enhanced fragment styling for better UX with proper visibility control */
.reveal .fragment {
  transition: all 0.4s ease-in-out;
}

.reveal .fragment.fade-up {
  transform: translateY(20px);
  opacity: 0;
}

.reveal .fragment.fade-up.visible {
  transform: translateY(0);
  opacity: 1;
}

/* Special handling for two-column layout - ensure columns are visible when they should be */
.two-columns .column.fragment {
  opacity: 0 !important;
  visibility: hidden !important;
  display: block !important; /* Never hide completely for layout purposes */
  transform: translateY(20px) !important; /* Subtle entry animation */
}

.two-columns .column.fragment.visible {
  opacity: 1 !important;
  visibility: visible !important;
  transform: translateY(0) !important;
}

.two-columns .column.fragment.current-fragment {
  opacity: 1 !important;
  visibility: visible !important;
  transform: translateY(0) !important;
}

/* MEDIA QUERIES FOR EXTREME RESPONSIVE BEHAVIOR */
/* 4K and large screens */
@media (min-width: 2560px) {
  .reveal h1 {
    font-size: clamp(3rem, 4.5vw, 6rem) !important;
  }
  
  .reveal h2 {
    font-size: clamp(2rem, 3vw, 4rem) !important;
  }
  
  .reveal p, .reveal li {
    font-size: clamp(1.2rem, 2vw, 2.5rem) !important;
  }
  
  .reveal pre {
    font-size: clamp(1rem, 1.8vw, 2rem) !important;
  }
}

/* Small screens and mobile */
@media (max-width: 768px) {
  .title-slide h1 {
    font-size: clamp(1.5rem, 6vw, 3rem) !important;
  }
  
  .reveal h2 {
    font-size: clamp(1.2rem, 4vw, 2rem) !important;
  }
  
  .reveal p, .reveal li {
    font-size: clamp(0.9rem, 3vw, 1.5rem) !important;
  }
  
  .columns-container {
    flex-direction: column !important;
    gap: 2vh !important;
  }
  
  .column {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 100% !important;
  }
  
  .code-embedded {
    flex-direction: column;
    gap: 2vh;
  }
  
  .text-overlay {
    max-width: 80vw !important;
    right: 2vw !important;
  }
}

/* Progress bar styling */
.reveal .progress {
  color: #D9931C;
}

/* Controls styling */
.reveal .controls {
  color: #D9931C;
}

/* CRITICAL FIX: FORCE ALL CONTENT TEXT TO BE LEFT-ALIGNED */
/* Only title slides and section slides should be centered */

/* Ensure ALL content slides use left alignment by default */
.reveal .slides section {
  text-align: left !important;
}

/* Override for title and section slides - title centered, section left-aligned */
.reveal .slides section:has(.title-slide) {
  text-align: center !important;
}

.reveal .slides section:has(.section-slide) {
  text-align: center !important;
  justify-content: center !important;
  align-items: center !important;
}

/* Force left alignment for all content elements */
.single-column,
.single-column *:not(.logo-corner),
.two-columns,
.two-columns *:not(.logo-corner),
.half-picture .text-content,
.half-picture .text-content *,
.code-slide:not(.code-standalone),
.code-slide:not(.code-standalone) *:not(.logo-corner),
.code-embedded,
.code-embedded * {
  text-align: left !important;
}

/* Ensure all paragraphs, lists, and headings in content are left-aligned */
.reveal .slides section:not(:has(.title-slide)):not(:has(.section-slide)) p,
.reveal .slides section:not(:has(.title-slide)):not(:has(.section-slide)) li,
.reveal .slides section:not(:has(.title-slide)):not(:has(.section-slide)) h1,
.reveal .slides section:not(:has(.title-slide)):not(:has(.section-slide)) h2,
.reveal .slides section:not(:has(.title-slide)):not(:has(.section-slide)) h3,
.reveal .slides section:not(:has(.title-slide)):not(:has(.section-slide)) h4,
.reveal .slides section:not(:has(.title-slide)):not(:has(.section-slide)) h5,
.reveal .slides section:not(:has(.title-slide)):not(:has(.section-slide)) h6,
.reveal .slides section:not(:has(.title-slide)):not(:has(.section-slide)) ul,
.reveal .slides section:not(:has(.title-slide)):not(:has(.section-slide)) ol {
  text-align: left !important;
}

/* Special handling for standalone code slides - these should remain centered */
.code-standalone,
.code-standalone * {
  text-align: center !important;
}